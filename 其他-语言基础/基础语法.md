---
title: C语言指针
date: 2015-02-3 22:27:40
tags:
---

[C语言位运算](http://c.biancheng.net/cpp/html/101.html)

## 按位与运算（&）

一个比特（Bit）位只有 0 和 1 两个取值，只有参与

```
&
```

运算的两个位都为 1 时，结果才为 1，否则为 0。例如

```
1&1
```

为 1，

```
0&0
```

为 0，

```
1&0
```

也为 0，这和逻辑运算符

```
&&
```

非常类似。

C语言中不能直接使用二进制，

```
&
```

两边的操作数可以是十进制、八进制、十六进制，它们在内存中最终都是以二进制形式存储，

```
&
```

就是对这些内存中的二进制位进行运算。其他的位运算符也是相同的道理。

例如，

```
9 & 5
```

可以转换成如下的运算：

    0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 1001  （9 在内存中的存储）
& 0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 0101  （5 在内存中的存储）
\-----------------------------------------------------------------------------------
    0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 0001  （1 在内存中的存储）

也就是说，按位与运算会对参与运算的两个数的所有二进制位进行

```
&
```

运算，

```
9 & 5
```

的结果为 1。

又如，

```
-9 & 5
```

可以转换成如下的运算：

    1111 1111 -- 1111 1111 -- 1111 1111 -- 1111 0111  （-9 在内存中的存储）
& 0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 0101  （5 在内存中的存储）
\-----------------------------------------------------------------------------------
    0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 0101  （5 在内存中的存储）

```
-9 & 5
```

的结果是 5。

> 关于正数和负数在内存中的存储形式，我们已在VIP教程《[整数在内存中是如何存储的](http://c.biancheng.net/cpp/html/3098.html)》中进行了讲解。

再强调一遍，`&`是根据内存中的二进制位进行运算的，而不是数据的二进制形式；其他位运算符也一样。

以

```
-9&5
```

为例，-9 的在内存中的存储和 -9 的二进制形式截然不同：

 1111 1111 -- 1111 1111 -- 1111 1111 -- 1111 0111  （-9 在内存中的存储）
-0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 1001  （-9 的二进制形式，前面多余的 0 可以抹掉）

按位与运算通常用来对某些位清 0，或者保留某些位。

例如要把 n 的高 16 位清 0 ，保留低 16 位，可以进行

```
n & 0XFFFF
```

运算（0XFFFF 在内存中的存储形式为 0000 0000 -- 0000 0000 -- 1111 1111 -- 1111 1111）。

【实例】对上面的分析进行检验。

```
#include <stdio.h>int main(){    int n = 0X8FA6002D;    printf("%d, %d, %X\n", 9 & 5, -9 & 5, n & 0XFFFF);    return 0;}
```

运行结果：

1, 5, 2D